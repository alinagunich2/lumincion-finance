/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./config/config.js":
/*!**************************!*\
  !*** ./config/config.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n    host: 'http://localhost:3000/api'\r\n});\n\n//# sourceURL=webpack://frontend/./config/config.js?");

/***/ }),

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./router.js */ \"./src/router.js\");\n\r\n\r\nclass App{\r\n    constructor(){\r\n        this.router = new _router_js__WEBPACK_IMPORTED_MODULE_0__.Router()\r\n    //     window.addEventListener('DOMContentLoaded',()=>{\r\n    //         this.router.openRoute()\r\n    //     })\r\n    //     window.addEventListener('popstate',()=>{\r\n    //         this.router.openRoute()\r\n    //     })\r\n\r\n    window.addEventListener('DOMContentLoaded',this.handleRouteChanging.bind(this))\r\n    window.addEventListener('popstate',this.handleRouteChanging.bind(this))\r\n    }\r\n\r\n    handleRouteChanging(){\r\n        this.router.openRoute()\r\n    }\r\n    \r\n}\r\n(new App())\n\n//# sourceURL=webpack://frontend/./src/app.js?");

/***/ }),

/***/ "./src/components/categories-create.js":
/*!*********************************************!*\
  !*** ./src/components/categories-create.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CategoriesCreate: () => (/* binding */ CategoriesCreate)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\n\r\nclass CategoriesCreate{\r\n    constructor(page){\r\n        this.page = page\r\n\r\n        this.title =document.getElementById('content-title')\r\n        this.create = document.getElementById('create')\r\n        this.input = document.getElementsByTagName('input')\r\n\r\n        if(this.page ==='ernings'){\r\n            this.erningCreate()\r\n           \r\n        }else {\r\n           this.comCreate()\r\n        }\r\n        \r\n        let that = this \r\n            this.input[0].onchange=function(){\r\n                that.validateForm(); \r\n            }\r\n        \r\n    }\r\n\r\n    validateForm(){\r\n        if(this.input[0].value){\r\n            this.create.removeAttribute('disabled')\r\n        }\r\n    }\r\n\r\n    cancel(type){\r\n        document.getElementById('cancel').onclick = function () {\r\n            document.getElementById('form')\r\n            location.href = '#/'+ type\r\n        }\r\n    }\r\n\r\n    erningCreate(){\r\n        let that = this\r\n        this.title.innerText = 'Создание категории доходов'\r\n        this.cancel('ernings')\r\n        this.create.onclick= function(){\r\n            that.createCategory('income','#/ernings')\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    comCreate(){\r\n        let that = this\r\n        this.title.innerText = 'Создание категории расходов'\r\n        this.cancel('comsuption')\r\n        this.create.onclick= function(){\r\n            that.createCategory('expense','#/comsuption')\r\n            \r\n        }\r\n    }\r\n\r\n    async createCategory(type, page){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/categories/'+type, 'POST',{\r\n                title: this.input[0].value,\r\n            })\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n                    \r\n            location.href=page\r\n\r\n              \r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/components/categories-create.js?");

/***/ }),

/***/ "./src/components/categories-edit.js":
/*!*******************************************!*\
  !*** ./src/components/categories-edit.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CategoriesEdit: () => (/* binding */ CategoriesEdit)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n/* harmony import */ var _utills_utills_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utills/utills.js */ \"./src/utills/utills.js\");\n\r\n\r\n\r\n\r\n\r\nclass CategoriesEdit{\r\n    constructor(page){\r\n        this.page = page\r\n        this.routeParams = _utills_utills_js__WEBPACK_IMPORTED_MODULE_2__.UrlManager.getQueryParams()\r\n\r\n        this.title =document.getElementById('content-title')\r\n        this.create = document.getElementById('create')\r\n        this.input = document.getElementsByTagName('input')[0]\r\n        this.input.value = this.routeParams.type\r\n\r\n        if(this.page ==='ernings'){\r\n            this.erningEdit()\r\n           \r\n        }else {\r\n           this.comEdit()\r\n        }\r\n        \r\n\r\n        let that = this \r\n            this.input.onchange=function(){\r\n                that.validateForm(); \r\n            }\r\n    }\r\n   \r\n    cancel(type){\r\n        document.getElementById('cancel').onclick = function () {\r\n            document.getElementById('form')\r\n            location.href = '#/'+ type\r\n        }\r\n    }\r\n    validateForm(){\r\n        if(this.input.value){\r\n            this.create.removeAttribute('disabled')\r\n        }\r\n    }\r\n    erningEdit(){\r\n        let that = this\r\n        this.title.innerText = 'Редактирование категории доходов'\r\n        this.cancel('ernings','#/ernings')\r\n        this.create.onclick= function(){\r\n            that.editData('income','#/ernings')\r\n           \r\n        }\r\n\r\n    }\r\n    comEdit(){\r\n        let that = this\r\n        this.title.innerText = 'Редактирование категории расходов'\r\n        this.cancel('comsuption')\r\n        this.create.onclick= function(){\r\n            that.editData('expense','#/comsuption')\r\n        }\r\n    }\r\n\r\n    async editData(type,page){\r\n        try{\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/categories/'+type+'/'+this.routeParams.id,'PUT',{\r\n                title: this.input.value,\r\n             })\r\n\r\n             if(result){\r\n                 location.href=page\r\n             }\r\n\r\n         }catch(e){\r\n              console.log(e)\r\n    }\r\n}\r\n\r\n}\n\n//# sourceURL=webpack://frontend/./src/components/categories-edit.js?");

/***/ }),

/***/ "./src/components/categories.js":
/*!**************************************!*\
  !*** ./src/components/categories.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Categories: () => (/* binding */ Categories)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n/* harmony import */ var _utills_popap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utills/popap.js */ \"./src/utills/popap.js\");\n\r\n\r\n\r\n\r\n\r\nclass Categories{\r\n    constructor(page){\r\n        this.page = page\r\n\r\n        this.title =document.getElementById('content-title')\r\n\r\n        this.categories = null\r\n        this.idDelite = null\r\n\r\n        if(this.page ==='ernings'){\r\n            this.title.innerText = 'Доходы'\r\n            this.int('income')\r\n           \r\n        }else {\r\n            this.title.innerText = 'Расходы'\r\n            this.int('expense')\r\n\r\n        }\r\n\r\n    }\r\n    async int(type){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/categories/'+type)\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n\r\n                this.categories=result\r\n                this.showCategories()\r\n                this.deleteItm()\r\n                this.createCategory()\r\n\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    showCategories(){\r\n        const result = document.getElementById('cards')\r\n        let content = '' \r\n\r\n        this.categories.forEach((itm)=>{\r\n            content +=`\r\n            <div class=\"cardd col-5 rounded-4\" id='value=\"${itm.id}'>\r\n                <div class=\"cards-title\">${itm.title}</div>\r\n                    <div class=\"d-flex\">\r\n                    <a href='#/${this.page ==='ernings'?'edit-categ-ernings':'edit-categ-com'}?id=${itm.id}&type=${itm.title}' type='button' class=\"button-edit btn btn-primary me-2\" id='edit'>Редактировать</a>\r\n                    <button type='button' class=\"button-delete btn btn-danger delete\" value=\"${itm.id}\">Удалить</button>\r\n                </div>\r\n            </div>\r\n            `\r\n         })\r\n\r\n         content +=`\r\n            <a href='#/${this.page ==='ernings'?'create-categ-ernings':'create-categ-com'}' class=\"cardd col-5 rounded-4\" id='create'>\r\n                <div>\r\n                <img src=\"img/ernings-comsumption/+.svg\" alt=\"+\" >\r\n                </div>\r\n            </a>\r\n            `\r\n        result.innerHTML = content\r\n    }\r\n\r\n    async delete(type,itm){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/categories/'+type+'/'+itm, 'DELETE')\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n            this.int(type)\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n    deleteItm(){\r\n        let that = this\r\n     \r\n        var deleteElms =  document.getElementsByClassName('delete');\r\n        for(var i=0;i<deleteElms.length;i++){\r\n            deleteElms[i].addEventListener('click', function(e){\r\n                if(e.target){\r\n                    that.idDelite = e.target.getAttribute('value')\r\n                    console.log(that.idDelite)\r\n                    that.popapShow()\r\n                }\r\n            })\r\n        } \r\n    }\r\n    popapShow(){\r\n        _utills_popap_js__WEBPACK_IMPORTED_MODULE_2__.Popap.popapText('Вы действительно хотите удалить категорию? Связанные доходы будут удалены навсегда.', 'Да, удалить', 'Не удалять')\r\n        _utills_popap_js__WEBPACK_IMPORTED_MODULE_2__.Popap.popapHidden()\r\n\r\n        let that = this\r\n\r\n        document.getElementById('popap-btn-f').onclick = function () {\r\n            document.getElementById('popap').style.display='none'\r\n\r\n            if(that.page ==='ernings'){\r\n                that.delete('income',that.idDelite)               \r\n            }else{\r\n                that.delete('expense',that.idDelite)    \r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n    createCategory(){\r\n\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/components/categories.js?");

/***/ }),

/***/ "./src/components/creation.js":
/*!************************************!*\
  !*** ./src/components/creation.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Creation: () => (/* binding */ Creation)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _utills_utills_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utills/utills.js */ \"./src/utills/utills.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\n\r\n\r\nclass Creation {\r\n    \r\n    constructor(page){\r\n        this.page=page;\r\n        this.idItm = null\r\n\r\n        this.routeParams = _utills_utills_js__WEBPACK_IMPORTED_MODULE_1__.UrlManager.getQueryParams()\r\n\r\n        this.categories =null\r\n        this.categor = null\r\n\r\n        this.input = document.getElementsByTagName('input')\r\n        this.itmType = document.getElementsByClassName('dropdown-item')\r\n        this.id = document.location.href.split('=')[1]\r\n\r\n        \r\n        if(this.page === 'create-ern'){\r\n            this.createErn()\r\n        }else if (this.page === 'create-com'){\r\n            this.createCom()\r\n        }else if(this.page === 'edit-ernings'){\r\n            this.editErn()\r\n            this.showEdit()\r\n        }else{\r\n            this.editCom()\r\n            this.showEdit()\r\n        }\r\n        this.cancel()\r\n\r\n        let that = this\r\n        for(let i = 0;i<this.input.length;i++){\r\n            this.input[i].onchange=function(){\r\n                that.validateForm(); \r\n            }\r\n        }\r\n      \r\n    }\r\n   \r\n\r\n    createErn(){\r\n        this.showTitle('Создание дохода', 'доход')\r\n        this.itmTyp('income')\r\n        let that = this\r\n        create.onclick = function () {\r\n            that.savingData(that.saveCategor(that.input[1].value),'income','/operations','POST')\r\n        }\r\n    }\r\n    createCom(){\r\n        this.showTitle('Создание расхода','расход')\r\n        this.itmTyp('expense')\r\n        let that = this\r\n        create.onclick = function () {\r\n            that.savingData(that.saveCategor(that.input[1].value),'expense','/operations','POST')\r\n        }\r\n    }\r\n    async itmTyp(data){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].host+'/categories/'+data)\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n\r\n                this.categories = result\r\n                \r\n                if(this.categories){\r\n                    this.searchType()\r\n                }\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n    showTitle(text, type ){\r\n        let input = this.input[0]\r\n        document.getElementById('content-title').innerText = text \r\n        input.value = type \r\n        input.setAttribute('disabled', 'disabled')\r\n    }\r\n    cancel(){\r\n        document.getElementById('cancel').onclick = function () {\r\n            document.getElementById('form')\r\n            location.href = '#/main-ernings-comsumption'\r\n        }\r\n    }\r\n    searchType(){\r\n        let that =this\r\n\r\n        \r\n        const result = document.getElementById('dropdown-menu')\r\n        let content = '' \r\n\r\n        this.categories.forEach((itm)=>{\r\n            content +=`<li><div class=\"dropdown-item\" id='${itm.id}'>${itm.title}</div></li>`\r\n    })\r\n        result.innerHTML = content\r\n\r\n\r\n        for(let i = 0; i<this.itmType.length;i++){\r\n            this.itmType[i].onclick = function () {\r\n                that.input[1].value = that.itmType[i].textContent\r\n                \r\n            }\r\n        }\r\n    }\r\n    validateForm(){\r\n        let that =this\r\n        let create = document.getElementById('create')\r\n\r\n        let y = false\r\n        for(let i = 0;i<this.input.length;i++){\r\n            if(!that.input[i].value){\r\n                y = false\r\n                return\r\n            }else{\r\n                y = true\r\n            }\r\n        }\r\n        if(y === true){\r\n            create.removeAttribute('disabled')\r\n        }\r\n        \r\n\r\n    }\r\n    async savingData(id,type,url,metod){\r\n        try{\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].host+url,metod,{\r\n                type: type,\r\n                amount: this.input[2].value,\r\n                date: this.input[3].value,\r\n                comment: this.input[4].value,\r\n                category_id:  Number(id)\r\n             })\r\n\r\n             if(result){\r\n                 location.href='#/main-ernings-comsumption'\r\n             }\r\n\r\n         }catch(e){\r\n              console.log(e)\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n   async showEdit(){\r\n   \r\n        let id = this.routeParams.id\r\n\r\n        try{\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].host+'/operations/'+id, 'GET')\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n                this.categor = result\r\n                this.input[1].value = this.categor.category\r\n                this.input[2].value = this.categor.amount \r\n                this.input[3].value = this.categor.date\r\n                this.input[4].value = this.categor.comment\r\n                console.log(this.categor)\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n        console.log(id)\r\n    }\r\n   \r\n    saveCategor(type){     \r\n        let idcategor=null\r\n        for(let i = 0;i<this.categories.length;i++){\r\n            if(this.categories[i].title===type){\r\n                idcategor= this.categories[i].id\r\n                break\r\n            }\r\n        }\r\n        return idcategor\r\n    }\r\n    editErn(){\r\n        let that = this\r\n        this.showTitle('Редактирование дохода', 'доход')\r\n        this.itmTyp('income')\r\n    \r\n        create.onclick = function () {\r\n            that.savingData(that.saveCategor(that.input[1].value),'income','/operations/'+that.id,'PUT')\r\n        }\r\n    }\r\n    editCom(){\r\n        let that = this\r\n        this.showTitle('Редактирование расхода','расход')\r\n        this.itmTyp('expense')\r\n\r\n        create.onclick = function () {\r\n            that.savingData(that.saveCategor(that.input[1].value),'expense','/operations/'+that.id,'PUT')\r\n        }\r\n    }\r\n \r\n}\n\n//# sourceURL=webpack://frontend/./src/components/creation.js?");

/***/ }),

/***/ "./src/components/form.js":
/*!********************************!*\
  !*** ./src/components/form.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Form: () => (/* binding */ Form)\n/* harmony export */ });\n/* harmony import */ var _services_auth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/auth.js */ \"./src/services/auth.js\");\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\n\r\nclass Form  {\r\n\r\n    constructor(page){\r\n        this.page=page;\r\n        this.processElement= null;\r\n    \r\n            const accessToken = localStorage.getItem(_services_auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth.accessTokenKey)\r\n            // if(accessToken){\r\n            //     location.href='#/';\r\n            //     return\r\n            // }\r\n    \r\n        this.fields =[\r\n            {\r\n                name:'email',\r\n                id: 'email',\r\n                element: null,\r\n                regex: /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/,\r\n                valid: false,\r\n            }, \r\n            {\r\n                name:'password',\r\n                id: 'password',\r\n                element: null,\r\n                regex: /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/,\r\n                valid: false,\r\n            }, \r\n        ];\r\n        \r\n        if(this.page==='signup'){\r\n            this.fields.unshift(\r\n                {\r\n                    name:\"fullname\",\r\n                    id: 'fullname',\r\n                    element: null,\r\n                    regex: /^([А-Я][а-я]*\\s+)+[А-Я][а-я]*\\s*$/,\r\n                    valid: false,\r\n                },\r\n                {\r\n                    name:'rep-password',\r\n                    id:'rep-password',\r\n                    element: null,\r\n                    regex: /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/,\r\n                    valid: false,\r\n                },\r\n            )\r\n        }\r\n\r\n        const that = this;\r\n\r\n            this.fields.forEach((itm)=>{\r\n                itm.element = document.getElementById(itm.id)\r\n                itm.element.onchange=function(){\r\n                    that.validateField.call(that, itm, this); \r\n                }\r\n            })\r\n\r\n            this.processElement = document.getElementById('process')\r\n            this.processElement.onclick=function(){\r\n                that.processForm()\r\n            }\r\n\r\n            if(this.page==='signup'){\r\n                \r\n            }\r\n    \r\n   \r\n    }\r\n    validateField(field,element){\r\n        if(!element.value || !element.value.match(field.regex)){ \r\n            element.style.borderColor = 'red'\r\n            field.valid=false\r\n        }else{\r\n            element.removeAttribute('style')\r\n            field.valid=true\r\n        }\r\n        if(this.page==='signup'){\r\n            const repPassword = document.getElementById('rep-password')\r\n            if(document.getElementById('password').value === repPassword.value){\r\n                this.processElement.removeAttribute('disabled')\r\n                repPassword.removeAttribute('style')\r\n            }else{\r\n                repPassword.style.borderColor = 'red'\r\n                this.processElement.setAttribute('disabled', 'disabled')\r\n                return\r\n            }\r\n            \r\n        }\r\n        this.validateForm()\r\n    }\r\n    validateForm(){\r\n        const validForm = this.fields.every(itm => itm.valid)\r\n        \r\n        if(validForm){\r\n            this.processElement.removeAttribute('disabled')\r\n        }else{\r\n            this.processElement.setAttribute('disabled', 'disabled')\r\n        }\r\n        return validForm\r\n    }\r\n    \r\nasync processForm(){\r\n    if(this.validateForm()){\r\n        const email = this.fields.find(itm=>itm.name==='email').element.value\r\n        const password = this.fields.find(itm=>itm.name==='password').element.value\r\n        if(this.page === 'signup'){\r\n            try{\r\n\r\n                const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_1__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].host+'/signup', \"POST\", {\r\n                        name: this.fields.find(itm => itm.name === 'fullname').element.value.split(' ')[1],\r\n                        lastName: this.fields.find(itm => itm.name === 'fullname').element.value.split(' ')[0],\r\n                        email: email,\r\n                        password: password,\r\n                        passwordRepeat:this.fields.find(itm => itm.name === 'rep-password').element.value,\r\n                    })\r\n                    \r\n                if(result){\r\n                    if(!result.user || result.error){\r\n                        throw new Error(result.message)\r\n                    }\r\n                }\r\n            }catch(e){\r\n               return console.log(e)\r\n            }\r\n            \r\n                }\r\n                    try{\r\n\r\n                        const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_1__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].host+'/login', \"POST\", {\r\n                                email: email,\r\n                                password: password,\r\n                                rememberMe: false,\r\n                            })\r\n                            \r\n                        if(result){\r\n                            if(!result.tokens.accessToken || !result.tokens.refreshToken \r\n                                ||!result.user.name || !result.user.lastName || !result.user.id){\r\n                                throw new Error(result.message)\r\n                            }\r\n                            \r\n                            _services_auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth.setTokens(result.tokens.accessToken,result.tokens.refreshToken)\r\n                            location.href = '#/main'\r\n                        }\r\n                    }catch(e){\r\n                        console.log(e)\r\n                    }\r\n             }\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://frontend/./src/components/form.js?");

/***/ }),

/***/ "./src/components/main-ernings-comsumption.js":
/*!****************************************************!*\
  !*** ./src/components/main-ernings-comsumption.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainErnings: () => (/* binding */ MainErnings)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _utills_popap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utills/popap.js */ \"./src/utills/popap.js\");\n/* harmony import */ var _components_sidebar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/sidebar.js */ \"./src/components/sidebar.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass MainErnings{\r\n    static  idDelite = null\r\n    static  interval = null\r\n     constructor(){\r\n        this.data =null\r\n\r\n        this.Month = new Date().getMonth()+1\r\n\r\n        this.dateFromTo = new Date().getFullYear().toString()+'-'+this.Month.toString()+'-'+new Date().getDate().toString()+'&dateTo='+new Date().getFullYear().toString()+'-'+this.Month.toString()+'-'+new Date().getDate().toString()\r\n        this.dateTo='&dateTo='+new Date().getFullYear().toString()+'-'+this.Month.toString()+'-'+new Date().getDate().toString()\r\n        this.nowYear = new Date().getFullYear().toString()\r\n        this.nowMonth = this.Month.toString()\r\n        this.nowDay = new Date().getDate().toString()\r\n        this.int()\r\n        this.sorting()\r\n        this.changPage()\r\n    }\r\n  \r\n    async int(data = this.dateFromTo){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].host+'/operations?period=interval&dateFrom='+data)\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n\r\n                this.data = result\r\n                this.processData()\r\n                \r\n                if(this.data){\r\n                    this.deleteItm()\r\n                }\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n    processData(){\r\n        const result = document.getElementById('tbody')\r\n        let content = '' \r\n\r\n        this.data.forEach((itm,index)=>{\r\n            content +=`<tr class=\"d-flex border-top\" scope=\"row\" id='${itm.id}'>\r\n            <td style=\"width:13%\" class=\" px-0 text-center\">${index+1}</td>\r\n            <td style=\"width:13%\" class=\"px-0 text-center ${itm.type==='expense'?'comsu':'ernin'}\">${itm.type==='expense'?'расход':'доход'}</td>\r\n            <td style=\"width:13%\" class=\"px-0 text-center\">${itm.category}</td>\r\n            <td style=\"width:13%\" class=\"px-0 text-center\">${itm.amount}$</td>\r\n            <td style=\"width:13%\" class=\"px-0 text-center\">${itm.date}</td>\r\n            <td style=\"width:30%\" class=\"ps-5 py-3 text-start \">${itm.comment}</td>\r\n            <td style=\"width:5%\" class=\" text-end\">\r\n            <span value=\"${itm.id}\" class=\"me-2 delete\">\r\n                <svg value=\"${itm.id}\" width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path value=\"${itm.id}\" d=\"M4.5 5.5C4.77614 5.5 5 5.72386 5 6V12C5 12.2761 4.77614 12.5 4.5 12.5C4.22386 12.5 4 12.2761 4 12V6C4 5.72386 4.22386 5.5 4.5 5.5Z\" fill=\"black\"/>\r\n                    <path value=\"${itm.id}\" d=\"M7 5.5C7.27614 5.5 7.5 5.72386 7.5 6V12C7.5 12.2761 7.27614 12.5 7 12.5C6.72386 12.5 6.5 12.2761 6.5 12V6C6.5 5.72386 6.72386 5.5 7 5.5Z\" fill=\"black\"/>\r\n                    <path value=\"${itm.id}\" d=\"M10 6C10 5.72386 9.77614 5.5 9.5 5.5C9.22386 5.5 9 5.72386 9 6V12C9 12.2761 9.22386 12.5 9.5 12.5C9.77614 12.5 10 12.2761 10 12V6Z\" fill=\"black\"/>\r\n                    <path value=\"${itm.id}\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.5 3C13.5 3.55228 13.0523 4 12.5 4H12V13C12 14.1046 11.1046 15 10 15H4C2.89543 15 2 14.1046 2 13V4H1.5C0.947715 4 0.5 3.55228 0.5 3V2C0.5 1.44772 0.947715 1 1.5 1H5C5 0.447715 5.44772 0 6 0H8C8.55229 0 9 0.447715 9 1H12.5C13.0523 1 13.5 1.44772 13.5 2V3ZM3.11803 4L3 4.05902V13C3 13.5523 3.44772 14 4 14H10C10.5523 14 11 13.5523 11 13V4.05902L10.882 4H3.11803ZM1.5 3V2H12.5V3H1.5Z\" fill=\"black\"/>\r\n                    </svg>                                \r\n                </span>\r\n            <a href='#/${itm.type==='expense'?'edit-comsumption':'edit-ernings'}?id=${itm.id}&type=${itm.category}' class=\"create\">\r\n                <svg  width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path  d=\"M12.1465 0.146447C12.3417 -0.0488155 12.6583 -0.0488155 12.8536 0.146447L15.8536 3.14645C16.0488 3.34171 16.0488 3.65829 15.8536 3.85355L5.85357 13.8536C5.80569 13.9014 5.74858 13.9391 5.68571 13.9642L0.68571 15.9642C0.500001 16.0385 0.287892 15.995 0.146461 15.8536C0.00502989 15.7121 -0.0385071 15.5 0.0357762 15.3143L2.03578 10.3143C2.06092 10.2514 2.09858 10.1943 2.14646 10.1464L12.1465 0.146447ZM11.2071 2.5L13.5 4.79289L14.7929 3.5L12.5 1.20711L11.2071 2.5ZM12.7929 5.5L10.5 3.20711L4.00001 9.70711V10H4.50001C4.77616 10 5.00001 10.2239 5.00001 10.5V11H5.50001C5.77616 11 6.00001 11.2239 6.00001 11.5V12H6.29291L12.7929 5.5ZM3.03167 10.6755L2.92614 10.781L1.39754 14.6025L5.21903 13.0739L5.32456 12.9683C5.13496 12.8973 5.00001 12.7144 5.00001 12.5V12H4.50001C4.22387 12 4.00001 11.7761 4.00001 11.5V11H3.50001C3.28561 11 3.10272 10.865 3.03167 10.6755Z\" fill=\"black\"/>\r\n                    </svg>                                \r\n            </a>\r\n            </td>\r\n        </tr>`\r\n    })\r\n        result.innerHTML = content\r\n    }\r\n    sorting(){\r\n        const that = this\r\n        let data = new Date();\r\n\r\n        document.getElementById('today').onclick = function () {\r\n            that.interval = that.dateFromTo\r\n            that.int(that.interval)\r\n        }\r\n\r\n        document.getElementById('week').onclick = function () {\r\n            let startDate = new Date();\r\n            startDate.setDate(data.getDate() - 7);\r\n\r\n            that.interval = startDate.getFullYear()+'-'+startDate.getMonth()+'-'+startDate.getDate()+that.dateTo\r\n            that.int(that.interval)\r\n        }\r\n\r\n        document.getElementById('month').onclick = function () {\r\n            let startDate = new Date();\r\n            startDate.setMonth(data.getMonth() - 1);\r\n\r\n            that.interval = startDate.getFullYear()+'-'+startDate.getMonth()+'-'+startDate.getDate()+that.dateTo\r\n            that.int(that.interval)\r\n        }\r\n        document.getElementById('year').onclick = function () {\r\n            that.interval = that.nowYear-1+'-'+that.nowMonth+'-'+that.nowDay+that.dateTo\r\n            that.int(that.interval)\r\n        }\r\n        document.getElementById('all').onclick = function () {\r\n            that.interval = '1999-01-01&dateTo=2300-09-13'\r\n            that.int(that.interval)\r\n        }\r\n        document.getElementById('interval').onclick = function () {\r\n            let dateFrom = document.getElementById('dateFrom').value\r\n            let dateTo = document.getElementById('dateTo').value\r\n            \r\n            that.interval = dateFrom+'&dateTo='+dateTo\r\n            that.int(that.interval)\r\n        }\r\n    }\r\n   async delete(itm){\r\n        try{\r\n\r\n            const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].host+'/operations/'+itm, 'DELETE')\r\n                \r\n            if(result){\r\n                if(result.error){\r\n                    throw new Error(result.message)\r\n                }\r\n            this.int(this.interval)\r\n            var sidebar = new _components_sidebar_js__WEBPACK_IMPORTED_MODULE_2__.Sidebar()\r\n            sidebar.bal()\r\n            }\r\n        }catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n    deleteItm(){\r\n        let that = this\r\n     \r\n        var deleteElms =  document.getElementsByClassName('delete');\r\n        for(var i=0;i<deleteElms.length;i++){\r\n            deleteElms[i].addEventListener('click', function(e){\r\n                if(e.target){\r\n                    that.idDelite = e.target.getAttribute('value')\r\n                    console.log(that.idDelite)\r\n                    that.popapShow()\r\n                }\r\n            })\r\n        } \r\n    }\r\n    popapShow(){\r\n        _utills_popap_js__WEBPACK_IMPORTED_MODULE_1__.Popap.popapText('Вы действительно хотите удалить операцию?', 'Да, удалить', 'Не удалять')\r\n        _utills_popap_js__WEBPACK_IMPORTED_MODULE_1__.Popap.popapHidden()\r\n\r\n        let that = this\r\n\r\n        document.getElementById('popap-btn-f').onclick = function () {\r\n            document.getElementById('popap').style.display='none'\r\n            that.delete(that.idDelite)\r\n        }\r\n    }\r\n    \r\n    changPage(){\r\n        let that = this\r\n        document.getElementById('create-ern').onclick = function () {\r\n            location.href = '#/creation-ernings'\r\n        }\r\n        document.getElementById('create-com').onclick = function () {\r\n            location.href = '#/creation-comsumption'\r\n        }\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack://frontend/./src/components/main-ernings-comsumption.js?");

/***/ }),

/***/ "./src/components/sidebar.js":
/*!***********************************!*\
  !*** ./src/components/sidebar.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sidebar: () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/custon-http.js */ \"./src/services/custon-http.js\");\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\nclass Sidebar {\r\n    constructor(target, config) {\r\n      this.data = null\r\n      this.sumBalanse = 0\r\n      this.bal()\r\n      \r\n      \r\n\r\n\r\n\r\n      this.ern = document.getElementById('ern')\r\n      this.com = document.getElementById('com')\r\n      \r\n\r\n      const defaultConfig = {};\r\n      this._config = Object.assign(defaultConfig, config);\r\n      this._elTabs = typeof target === 'string' ? document.querySelector(target) : target;\r\n      this._elButtons = this._elTabs.querySelectorAll('.tabs__btn');\r\n      this._elPanes = this._elTabs.querySelectorAll('.tabs__pane');\r\n      this._eventShow = new Event('tab.itc.change');\r\n      this._init();\r\n      this._events();\r\n\r\n      this.openMain();\r\n      this.openMainSek();\r\n      this.openErn();\r\n      this.openCom();\r\n    }\r\n    _init() {\r\n      this._elTabs.setAttribute('role', 'tablist');\r\n      this._elButtons.forEach((el, index) => {\r\n        el.dataset.index = index;\r\n        el.setAttribute('role', 'tab');\r\n        this._elPanes[index].setAttribute('role', 'tabpanel');\r\n      });\r\n    }\r\n    show(elLinkTarget) {\r\n      const elPaneTarget = this._elPanes[elLinkTarget.dataset.index];\r\n      const elLinkActive = this._elTabs.querySelector('.tabs__btn_active');\r\n      const elPaneShow = this._elTabs.querySelector('.tabs__pane_show');\r\n      if (elLinkTarget === elLinkActive) {\r\n        return;\r\n      }\r\n      elLinkActive ? elLinkActive.classList.remove('tabs__btn_active') : null;\r\n      elPaneShow ? elPaneShow.classList.remove('tabs__pane_show') : null;\r\n      elLinkTarget.classList.add('tabs__btn_active');\r\n      elPaneTarget.classList.add('tabs__pane_show');\r\n      this._elTabs.dispatchEvent(this._eventShow);\r\n      elLinkTarget.focus();\r\n    }\r\n    showByIndex(index) {\r\n      const elLinkTarget = this._elButtons[index];\r\n      elLinkTarget ? this.show(elLinkTarget) : null;\r\n    };\r\n    _events() {\r\n      this._elTabs.addEventListener('click', (e) => {\r\n        const target = e.target.closest('.tabs__btn');\r\n        if (target) {\r\n          e.preventDefault();\r\n          this.show(target);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n    openMain(){\r\n    \r\n    \r\n        document.getElementById('main').onclick = function(){\r\n            location.href = '#/main'\r\n        }\r\n    };\r\n    openMainSek(){\r\n        document.getElementById('main-sek').onclick = function(){\r\n            location.href = '#/main-ernings-comsumption'\r\n        }\r\n    };\r\n    openErn(){\r\n      let that = this\r\n        document.getElementById('category').onclick = function(){\r\n          that.com.classList.remove('activ-comsumotion')\r\n          that.ern.classList.add('activ-comsumotion')\r\n            location.href = '#/ernings'\r\n        }\r\n        document.getElementById('ern').onclick = function(){\r\n          that.com.classList.remove('activ-comsumotion')\r\n        that.ern.classList.add('activ-comsumotion')\r\n            location.href = '#/ernings'\r\n        }\r\n    };\r\n    openCom(){\r\n      let that = this\r\n      document.getElementById('com').onclick = function(){\r\n        that.com.classList.add('activ-comsumotion')\r\n        that.ern.classList.remove('activ-comsumotion')\r\n        location.href = '#/comsuption'\r\n    }\r\n    };\r\n\r\n\r\n\r\n    async bal(){\r\n      try{\r\n\r\n          const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/balance')\r\n              \r\n          if(result){\r\n              if(result.error){\r\n                  throw new Error(result.message)\r\n              }\r\n\r\n              this.data = result\r\n              // this.balanse()\r\n              console.log(this.data)\r\n          }\r\n      }catch(e){\r\n          console.log(e)\r\n      }\r\n  }\r\n    balanse(){\r\n\r\n      let sumErn = 0\r\n      let sumCom = 0\r\n\r\n      this.data.forEach((itm)=>{\r\n          if(itm.type==='income'){\r\n            sumErn = sumErn+Number(itm.amount)\r\n            }else{\r\n                sumCom = sumCom+Number(itm.amount)\r\n            }\r\n        })\r\n      this.sumBalanse = sumErn-sumCom\r\n      document.getElementById('sum-balans').innerText = this.sumBalanse+'$'\r\n      return this.editBalanse()\r\n    }\r\n   async editBalanse(){\r\n      try{\r\n\r\n        const result = await _services_custon_http_js__WEBPACK_IMPORTED_MODULE_0__.CustomHttp.request(_config_config_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host+'/balance','PUT',{\r\n          newBalance: this.sumBalanse\r\n        })\r\n            \r\n        if(result){\r\n            if(result.error){\r\n                throw new Error(result.message)\r\n            }\r\n\r\n\r\n        }\r\n    }catch(e){\r\n        console.log(e)\r\n    }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://frontend/./src/components/sidebar.js?");

/***/ }),

/***/ "./src/router.js":
/*!***********************!*\
  !*** ./src/router.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Router: () => (/* binding */ Router)\n/* harmony export */ });\n/* harmony import */ var _components_form_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/form.js */ \"./src/components/form.js\");\n/* harmony import */ var _components_main_ernings_comsumption_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/main-ernings-comsumption.js */ \"./src/components/main-ernings-comsumption.js\");\n/* harmony import */ var _src_components_creation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/components/creation.js */ \"./src/components/creation.js\");\n/* harmony import */ var _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/components/sidebar.js */ \"./src/components/sidebar.js\");\n/* harmony import */ var _src_components_categories_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/components/categories.js */ \"./src/components/categories.js\");\n/* harmony import */ var _src_components_categories_create_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/components/categories-create.js */ \"./src/components/categories-create.js\");\n/* harmony import */ var _src_components_categories_edit_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/components/categories-edit.js */ \"./src/components/categories-edit.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import {Choice} from './components/choice.js'\r\n// import {Test} from './components/test.js'\r\n// import {Result} from './components/result.js'\r\n// import {GetResult} from './components/get-result.js'\r\n// import {Auth} from \"./services/auth.js\"\r\nclass Router{\r\n    static id = null\r\n    constructor(){\r\n        this.boxElement=document.getElementById('box')\r\n        this.stylesElement=document.getElementById('styles')\r\n        this.titleElement=document.getElementById('page-title')\r\n        // this.profileElement=document.getElementById('profile')\r\n        // this.profileFullNameElement=document.getElementById('profile-full-name')\r\n        let that = this\r\n        this.routes=[\r\n             {\r\n                route: '#/',\r\n                title:'Вход',\r\n                template:'template/login.html',\r\n                styles:'styles/login.css',\r\n                load:()=>{\r\n                    new _components_form_js__WEBPACK_IMPORTED_MODULE_0__.Form('login')\r\n                }\r\n             },\r\n             {\r\n                route: '#/signup',\r\n                title:'Создайте аккаунт',\r\n                template:'template/signup.html',\r\n                styles:'styles/signup.css',\r\n                load:()=>{\r\n                    new _components_form_js__WEBPACK_IMPORTED_MODULE_0__.Form('signup')\r\n                }\r\n             },\r\n             {\r\n                route: '#/main',\r\n                title:'Главная',\r\n                template:'template/main.html',\r\n                styles:'styles/main-ernings-comsumption.css',\r\n                load:()=>{\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/main-ernings-comsumption',\r\n                title:'Доходы-Расходы',\r\n                template:'template/main-ernings-comsumption.html',\r\n                styles:'styles/main-ernings-comsumption.css',\r\n                load:()=>{\r\n                    new _components_main_ernings_comsumption_js__WEBPACK_IMPORTED_MODULE_1__.MainErnings(),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/creation-ernings',\r\n                title:'Создание доходов',\r\n                template:'template/creation.html',\r\n                styles:'styles/creation.css',\r\n                load:()=>{\r\n                    new _src_components_creation_js__WEBPACK_IMPORTED_MODULE_2__.Creation('create-ern'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/creation-comsumption',\r\n                title:'Создание расходов',\r\n                template:'template/creation.html',\r\n                styles:'styles/creation.css',\r\n                load:()=>{\r\n                    new _src_components_creation_js__WEBPACK_IMPORTED_MODULE_2__.Creation('create-com'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/edit-ernings',\r\n                title:'Редактирование доходов',\r\n                template:'template/creation.html',\r\n                styles:'styles/creation.css',\r\n                load:()=>{\r\n                    new _src_components_creation_js__WEBPACK_IMPORTED_MODULE_2__.Creation('edit-ernings'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/edit-comsumption',\r\n                title:'Редактирование расходов',\r\n                template:'template/creation.html',\r\n                styles:'styles/creation.css',\r\n                load:()=>{\r\n                    new _src_components_creation_js__WEBPACK_IMPORTED_MODULE_2__.Creation('edit-comsumption'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/ernings',\r\n                title:'Катехории доходов',\r\n                template:'template/ernings-comsumption.html',\r\n                styles:'styles/ernings-comsumption.css',\r\n                load:()=>{\r\n                    new _src_components_categories_js__WEBPACK_IMPORTED_MODULE_4__.Categories('ernings'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/comsuption',\r\n                title:'Категории расходов',\r\n                template:'template/ernings-comsumption.html',\r\n                styles:'styles/ernings-comsumption.css',\r\n                load:()=>{\r\n                    new _src_components_categories_js__WEBPACK_IMPORTED_MODULE_4__.Categories('comsuption'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/create-categ-ernings',\r\n                title:'Создание категории доходов',\r\n                template:'template/category-use.html',\r\n                styles:'',\r\n                load:()=>{\r\n                    new _src_components_categories_create_js__WEBPACK_IMPORTED_MODULE_5__.CategoriesCreate('ernings'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/create-categ-com',\r\n                title:'Создание категории расходов',\r\n                template:'template/category-use.html',\r\n                styles:'',\r\n                load:()=>{\r\n                    new _src_components_categories_create_js__WEBPACK_IMPORTED_MODULE_5__.CategoriesCreate('comsuption'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/edit-categ-ernings',\r\n                title:'Редактирование категории доходов',\r\n                template:'template/category-use.html',\r\n                styles:'',\r\n                load:()=>{\r\n                    new _src_components_categories_edit_js__WEBPACK_IMPORTED_MODULE_6__.CategoriesEdit('ernings'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n             {\r\n                route: '#/edit-categ-com',\r\n                title:'Редактирование категории расходов',\r\n                template:'template/category-use.html',\r\n                styles:'',\r\n                load:()=>{\r\n                    new _src_components_categories_edit_js__WEBPACK_IMPORTED_MODULE_6__.CategoriesEdit('comsuption'),\r\n                    new _src_components_sidebar_js__WEBPACK_IMPORTED_MODULE_3__.Sidebar('.tabs')\r\n                }\r\n             },\r\n\r\n        ]\r\n    }\r\n    async openRoute(){\r\n        const urlRoute = window.location.hash.split('?')[0]\r\n\r\n        // if(urlRoute==='#/logout'){\r\n        //     await Auth.logout()\r\n        //     window.location.href='#/'\r\n        //     return\r\n        // }\r\n\r\n        const newRoute = this.routes.find(item=>{\r\n            return item.route === urlRoute\r\n        })\r\n        \r\n        if(!newRoute){\r\n            window.location.href='#/'\r\n            return\r\n        }\r\n        this.boxElement.innerHTML = await fetch(newRoute.template).then(response=>response.text())\r\n        this.stylesElement.setAttribute('href',newRoute.styles)\r\n        this.titleElement.innerText = newRoute.title\r\n\r\n        // const userInfo = Auth.getUserInfo()\r\n        // const accessToken = localStorage.getItem(Auth.accessTokenKey)\r\n\r\n        // if(userInfo&&accessToken){\r\n        //     this.profileElement.style.display='flex'\r\n        //     this.profileFullNameElement.innerText=userInfo.fullName\r\n        // }else{\r\n        //     this.profileElement.style.display='none'\r\n        // }\r\n\r\n        newRoute.load()\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/router.js?");

/***/ }),

/***/ "./src/services/auth.js":
/*!******************************!*\
  !*** ./src/services/auth.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: () => (/* binding */ Auth)\n/* harmony export */ });\n/* harmony import */ var _config_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config/config.js */ \"./config/config.js\");\n\r\n\r\nclass Auth{\r\n    static accessTokenKey='accessToken'\r\n    static refreshTokenKey='refreshToken'\r\n    static userTokenKey='userInfo'\r\n\r\n    static async processUnathorizedResponse(){\r\n        const refreshToken = localStorage.getItem(this.refreshTokenKey)\r\n\r\n        if(refreshToken){\r\n            const response=await fetch(_config_config_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].host+'/refresh',{\r\n                method:\"POST\",\r\n                headers:{\r\n                    'Content-type':'application/json',\r\n                    'Accept':'application/json'\r\n                },\r\n                body:JSON.stringify({refreshToken:refreshToken})\r\n            })\r\n            if(response&&response.status===200){\r\n                const result = await response.json()\r\n\r\n                if(result && !result.error){\r\n                    this.setTokens(result.tokens.accessToken, result.tokens.refreshToken)\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n\r\n        removeTokens()\r\n        location.href='#/'\r\n        return false\r\n    }\r\n\r\n    static setTokens(accessToken,refreshToken){\r\n        localStorage.setItem(this.accessTokenKey,accessToken)\r\n        localStorage.setItem(this.refreshTokenKey,refreshToken)\r\n    }\r\n\r\n    static removeTokens(){\r\n        localStorage.removeItem(this.accessTokenKey)\r\n        localStorage.removeItem(this.refreshTokenKey)\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/services/auth.js?");

/***/ }),

/***/ "./src/services/custon-http.js":
/*!*************************************!*\
  !*** ./src/services/custon-http.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CustomHttp: () => (/* binding */ CustomHttp)\n/* harmony export */ });\n/* harmony import */ var _auth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth.js */ \"./src/services/auth.js\");\n\r\n\r\n\r\nclass CustomHttp{\r\n    static async request(url, method ='GET', body = null){\r\n\r\n        const params = {\r\n                    method:method,\r\n                    headers:{\r\n                        'Content-type':'application/json',\r\n                        'Accept':'application/json'\r\n                    },\r\n                }\r\n\r\n                let token = localStorage.getItem(_auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth.accessTokenKey)\r\n                if(token){\r\n                    params.headers['x-auth-token']=token\r\n                }\r\n\r\n                if (body){\r\n                    params.body = JSON.stringify(body)\r\n                }\r\n                \r\n                const response = await fetch(url, params)\r\n    \r\n                if(response.status < 200 || response.status >= 300){\r\n                    if(response.status === 401){\r\n                       const result =await _auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth.processUnathorizedResponse()\r\n                       if(result){\r\n                        return await this.request(url,method,body)\r\n                       }else{\r\n                        return null\r\n                       }\r\n                    }\r\n                    throw new Error(response.message)\r\n                }\r\n\r\n                return await response.json()\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/services/custon-http.js?");

/***/ }),

/***/ "./src/utills/popap.js":
/*!*****************************!*\
  !*** ./src/utills/popap.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Popap: () => (/* binding */ Popap)\n/* harmony export */ });\nclass Popap{\r\n    constructor(){\r\n        \r\n    }\r\n    static popap =  document.getElementById('popap')\r\n        static btn1 = document.getElementById('popap-btn-f')\r\n        static btn2 = document.getElementById('popap-btn-s')\r\n\r\n    static popapText(text, btn1, btn2){\r\n        this.popap.style.display='block';\r\n        document.getElementById('popap-text').innerText = text;\r\n        this.btn1.innerText = btn1;\r\n        this.btn2.innerText = btn2;\r\n    }\r\n    static popapHidden(){\r\n        let that = this\r\n        this.btn2.onclick = function () {\r\n            that.popap.style.display='none';\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/utills/popap.js?");

/***/ }),

/***/ "./src/utills/utills.js":
/*!******************************!*\
  !*** ./src/utills/utills.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UrlManager: () => (/* binding */ UrlManager)\n/* harmony export */ });\nclass UrlManager{\r\n    static getQueryParams(){\r\n        const qs = document.location.hash.split('+').join(' ')\r\n    \r\n        let params = {},\r\n        tokens,\r\n        re = /[?&]([^=]+)=([^&]*)/g\r\n    \r\n        while(tokens = re.exec(qs)){\r\n            params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2])\r\n        }\r\n    \r\n        return params\r\n    }\r\n}\n\n//# sourceURL=webpack://frontend/./src/utills/utills.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/app.js");
/******/ 	
/******/ })()
;